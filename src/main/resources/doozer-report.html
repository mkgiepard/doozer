<!-- exemplary Doozer Test Report page - desired outcome from TestReport.render() -->

<head>
    <title>Doozer Test Report</title>
</head>
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="stylesheet" href="styles.css">

<body>
    <div class="header fixed-top">
        <img src="/Users/mario/gitrepos/doozer/target/doozer-tests/doozer-logo.svg" class="logo">
        <h1>Doozer Test Report</h1>
    </div>
    <div class="container-main">
        <div class="container-testcase">
            <div class="container-testcase-header title">
                <div>Test Case</div>
                <div class="center">RESULT</div>
                <div class="center">PIXEL DIFF</div>
                <div class="center">ACTION</div>
            </div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id110')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/verifyUserCanCreateEventWithVideoCallAttached/verifyUserCanCreateEventWithVideoCallAttached.doozer
                </div>
                <div class="center fail"><span class="material-symbols-outlined">cancel</span></div>
                <div class="center">1024</div>
                <div class="center"><button>APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id110step" class="step-name hidden">12: takeScreenshot args:"selftest.dev"
            </div>
            <div id="id110" class="container-teststep-images hidden">
                <div class="card">
                    <div class="testcase-image">
                        <img onclick='openModal("../../test/java/dev/softtest/doozer/scripts/googleTest/goldens/search-doozer-chrome-headless.png")'
                            src="../../test/java/dev/softtest/doozer/scripts/googleTest/goldens/search-doozer-chrome-headless.png">
                    </div>
                    <div class="testcase-data-container">
                        <div class="testcase-data">
                            <div class="label">golden:</div>
                            <div class="data">
                                test/java/dev/softtest/doozer/scripts/softtestTest/goldens/selftest.dev.png
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="testcase-image fadein">
                        <img onclick='openModal("../../../target/doozer-tests/googleTest/search-doozer-chrome-headless.DIFF.png")'
                            src="../../../target/doozer-tests/googleTest/search-doozer-chrome-headless.DIFF.png">
                    </div>
                    <div class="testcase-data">
                        <div class="label"># of pixels:</div>
                        <div class="data">1234</div>
                    </div>
                    <div class="testcase-data">
                        <div class="label">% of pixels:</div>
                        <div class="data">0.012%</div>
                    </div>
                    <div class="testcase-data">
                        <div class="label">threshold:</div>
                        <div class="data">0.01%</div>
                    </div>
                </div>
                <div class="card fail">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/googleTest/search-doozer-chrome-headless.png">
                    </div>
                    <div class="testcase-data">
                        <div class="label">result:</div>
                        <div class="data">target/doozer-tests/softtestTest/selftest.dev.png</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id111')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/softtestTest/softtestTest.doozer</div>
                <div class="center pass"> <span class="material-symbols-outlined">check</span></div>
                <div class="center">0</div>
                <div class="center"><button class="hidden">APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id111" class="container-teststep-images hidden">
                <div class="card">
                    <div class="testcase-image"><img
                            src="../../test/java/dev/softtest/doozer/scripts/softtestTest/goldens/softtest.dev-chrome-headless.png">
                    </div>
                    <div class="testcase-data">
                        test/java/dev/softtest/doozer/scripts/softtestTest/goldens/softtest.dev.png
                    </div>
                </div>
                <div class="card">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/softtestTest/softtest.dev-chrome-headless.DIFF.png">
                    </div>
                    <div class="testcase-data"># of different pixels: 0<br>% of different pixels:
                        0%<br>threshold: 0.01%</div>
                </div>
                <div class="card pass">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/softtestTest/softtest.dev-chrome-headless.png">
                    </div>
                    <div class="testcase-data">target/doozer-tests/softtestTest/softtest.dev.png
                    </div>
                </div>
            </div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id112')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/softtestTest/softtestTest.doozer</div>
                <div class="center fail"><span class="material-symbols-outlined">cancel</span></div>
                <div class="center">0</div>
                <div class="center"><button class="hidden">APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id112step" class="step-name hidden">3: click args:"{button 'OK'}"</div>
            <div id="id112" class="container-teststep-images hidden">
                <div class="card">
                    <div class="testcase-image"><img
                            src="../../test/java/dev/softtest/doozer/scripts/softtestTest/goldens/selftest.dev-chrome-headless.png">
                    </div>
                    <div class="testcase-data">path:
                        test/java/dev/softtest/doozer/scripts/softtestTest/goldens/selftest.dev.png
                    </div>
                </div>
                <div class="card">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/softtestTest/selftest.dev-chrome-headless.DIFF.png">
                    </div>
                    <div class="testcase-data"># of different pixels: 1234<br>% of different pixels:
                        0.012%<br>threshold: 0.01%</div>
                </div>
                <div class="card fail">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/softtestTest/selftest.dev-chrome-headless.png">
                    </div>
                    <div class="testcase-data">path:
                        target/doozer-tests/softtestTest/selftest.dev.png</div>
                </div>
            </div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id113')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/softtestTest/softtestTest2222.doozer</div>
                <div class="center fail"><span class="material-symbols-outlined">cancel</span></div>
                <div class="center">-</div>
                <div class="center"><button class="hidden">APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id113step" class="step-name hidden">3: click args:"{button 'NOK'}"</div>
            <div id="id113" class="container-teststep-images hidden"></div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id114')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/softtestTest/softtestTest333.doozer</div>
                <div class="center pass"> <span class="material-symbols-outlined">check</span></div>
                <div class="center">-</div>
                <div class="center"><button class="hidden">APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id114" class="container-teststep-images hidden"></div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id115')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/softtestTest/softtestTest444.doozer</div>
                <div class="center pass"><span class="material-symbols-outlined">check</span></div>
                <div class="center">-</div>
                <div class="center"><button class="hidden">APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id115" class="container-teststep-images hidden"></div>
        </div>
        <div class="container-testcase">
            <div class="container-testcase-summary" onclick="toggleDisplay('id123')">
                <div class="testcase-name">
                    java/dev/softtest/doozer/scripts/verifyUserCanCreateEventWithVideoCallAttached/verifyUserCanCreateEventWithVideoCallAttached.doozer
                </div>
                <div class="center fail"><span class="material-symbols-outlined">cancel</span></div>
                <div class="center">122345</div>
                <div class="center"><button>APPROVE</button></div>
                <div class="center"><span class="material-symbols-outlined">open_in_new</span></div>
            </div>
            <div id="id123step" class="step-name hidden">12: takeScreenshot args:"selftest.dev"
            </div>
            <div id="id123" class="container-teststep-images hidden">
                <div class="card">
                    <div class="testcase-image"><img
                            src="../../test/java/dev/softtest/doozer/scripts/softtestTest/goldens/selftest.dev-chrome-headless.png">
                    </div>
                    <div class="testcase-data">
                        <div class="label">golden:</div>
                        <div class="data">
                            test/java/dev/softtest/doozer/scripts/softtestTest/goldens/selftest.dev.png
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/softtestTest/selftest.dev-chrome-headless.DIFF.png">
                    </div>
                    <div class="testcase-data">
                        <div class="label"># of pixels:</div>
                        <div class="data">1234</div>
                    </div>
                    <div class="testcase-data">
                        <div class="label">% of pixels:</div>
                        <div class="data">0.012%</div>
                    </div>
                    <div class="testcase-data">
                        <div class="label">threshold:</div>
                        <div class="data">0.01%</div>
                    </div>
                </div>
                <div class="card fail">
                    <div class="testcase-image"><img
                            src="../../../target/doozer-tests/softtestTest/selftest.dev-chrome-headless.png">
                    </div>
                    <div class="testcase-data">
                        <div class="label">result:</div>
                        <div class="data">target/doozer-tests/softtestTest/selftest.dev.png</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- The Modal -->
    <div id="modal" class="modal">
        <!-- The Close Button -->
        <span class="close">&times;</span>

        <!-- Modal Content (The Image) -->
        <img class="modal-content" id="modalImg">

        <!-- Modal Caption (Image Text) -->
        <div id="caption"></div>
    </div>
</body>
<script>
    function toggleDisplay(id) {
        var imgContainer = document.getElementById(id);
        var step = document.getElementById(id + 'step');
        if (step == null) return;
        if (imgContainer.style.display === "" || step.style.display === ""
            || imgContainer.style.display === "none" || step.style.display === "none") {
            imgContainer.style.display = "grid";
            step.style.display = "grid";
        } else {
            imgContainer.style.display = "none";
            step.style.display = "none";
        }
    }
    function approve(id, goldenPath, resultPath) {
        var cmdContainer = document.getElementById("command-container");
        const commands = cmdContainer.textContent;
        var nextCommand = "cp " + goldenPath + " " + resultPath + ";";
        cmdContainer.textContent = commands + nextCommand;
    }

    function copy() {
        var cmdContainer = document.getElementById("command-container");
        navigator.clipboard.writeText(cmdContainer.textContent);
    }

    function clearCommands() {
        var cmdContainer = document.getElementById("command-container");
        cmdContainer.textContent = "";
    }

    function openModal(imgSrc) {
        var modal = document.getElementById("modal");
        var modalImg = document.getElementById("modalImg");

        modal.style.display = "block";
        modalImg.src = imgSrc;

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        } 
    }
</script>